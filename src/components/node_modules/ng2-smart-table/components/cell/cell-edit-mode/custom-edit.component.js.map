{"version":3,"file":"custom-edit.component.js","sourceRoot":"","sources":["../../../../../src/ng2-smart-table/components/cell/cell-edit-mode/custom-edit.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAO,EACL,SAAS,EACT,wBAAwB,EACxB,SAAS,EACT,gBAAgB,GAIjB,MAAM,eAAe,CAAC;AAEvB,OAAO,EAAE,eAAe,EAAE,MAAM,qBAAqB,CAAC;AAStD,IAAa,mBAAmB;IAAS,uCAAe;IAKtD,6BAAoB,QAAkC;QAAtD,YACE,iBAAO,SACR;QAFmB,cAAQ,GAAR,QAAQ,CAA0B;;IAEtD,CAAC;IAED,yCAAW,GAAX,UAAY,OAAsB;QAAlC,iBAYC;QAXC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACvC,IAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACvG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,gBAAgB,CAAC,CAAC;YAE5E,+CAA+C;YAC/C,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAC/C,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAC3D,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,cAAM,OAAA,KAAI,CAAC,aAAa,EAAE,EAApB,CAAoB,CAAC,CAAC;YAClF,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAC,KAAU,IAAK,OAAA,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAApB,CAAoB,CAAC,CAAC;YACvF,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,UAAC,KAAU,IAAK,OAAA,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAnB,CAAmB,CAAC,CAAC;QACvF,CAAC;IACH,CAAC;IAED,yCAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;QACjC,CAAC;IACH,CAAC;IACH,0BAAC;AAAD,CAAC,AA5BD,CAAyC,eAAe,GA4BvD;AAzByD;IAAvD,SAAS,CAAC,eAAe,EAAE,EAAE,IAAI,EAAE,gBAAgB,EAAE,CAAC;;0DAAoB;AAHhE,mBAAmB;IAN/B,SAAS,CAAC;QACT,QAAQ,EAAE,0BAA0B;QACpC,QAAQ,EAAE,sDAET;KACF,CAAC;qCAM8B,wBAAwB;GAL3C,mBAAmB,CA4B/B;SA5BY,mBAAmB","sourcesContent":["import {\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n  SimpleChanges,\r\n  OnChanges,\r\n  OnDestroy,\r\n} from '@angular/core';\r\n\r\nimport { EditCellDefault } from './edit-cell-default';\r\nimport { Cell } from '../../../lib/data-set/cell';\r\n\r\n@Component({\r\n  selector: 'table-cell-custom-editor',\r\n  template: `\r\n    <ng-template #dynamicTarget></ng-template>\r\n  `,\r\n})\r\nexport class CustomEditComponent extends EditCellDefault implements OnChanges, OnDestroy {\r\n\r\n  customComponent: any;\r\n  @ViewChild('dynamicTarget', { read: ViewContainerRef }) dynamicTarget: any;\r\n\r\n  constructor(private resolver: ComponentFactoryResolver) {\r\n    super();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (this.cell && !this.customComponent) {\r\n      const componentFactory = this.resolver.resolveComponentFactory(this.cell.getColumn().editor.component);\r\n      this.customComponent = this.dynamicTarget.createComponent(componentFactory);\r\n\r\n      // set @Inputs and @Outputs of custom component\r\n      this.customComponent.instance.cell = this.cell;\r\n      this.customComponent.instance.inputClass = this.inputClass;\r\n      this.customComponent.instance.onStopEditing.subscribe(() => this.onStopEditing());\r\n      this.customComponent.instance.onEdited.subscribe((event: any) => this.onEdited(event));\r\n      this.customComponent.instance.onClick.subscribe((event: any) => this.onClick(event));\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.customComponent) {\r\n      this.customComponent.destroy();\r\n    }\r\n  }\r\n}\r\n"]}