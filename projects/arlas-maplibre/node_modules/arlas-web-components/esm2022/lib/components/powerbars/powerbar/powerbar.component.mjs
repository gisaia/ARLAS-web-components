/*
 * Licensed to Gisaïa under one or more contributor
 * license agreements. See the NOTICE.txt file distributed with
 * this work for additional information regarding copyright
 * ownership. Gisaïa licenses this file to you under
 * the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
import { Component, EventEmitter, Input, Output } from '@angular/core';
import { DEFAULT_SHORTENING_PRECISION, NUMBER_FORMAT_CHAR } from '../../componentsUtils';
import { PowerBar } from '../model/powerbar';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/tooltip";
import * as i3 from "@angular/material/checkbox";
import * as i4 from "@ngx-translate/core";
import * as i5 from "../../../pipes/shorten-number/shorten-number.pipe";
import * as i6 from "../../../pipes/format-number/format-number.pipe";
export class PowerbarComponent {
    constructor() {
        /**
         * @Input : Angular
         * @description Precision when rounding numbers (ie the count next to the progress bar).
         * Default is 2.
         */
        this.numberShorteningPrecision = DEFAULT_SHORTENING_PRECISION;
        /**
         * @Input : Angular
         * @description Unit the a powerbar represents
         */
        this.unit = '';
        /**
         * @Input : Angular
         * @description Whether to allow colorizing the bar according to its term or not using keysToColors
         */
        this.useColorService = false;
        /**
         * @Input : Angular
         * @description Whether to allow colorizing the bar according to its term or not using a field of the data
         */
        this.useColorFromData = false;
        /**
         * @Input : Angular
         * @description Hide selected powerbar
         */
        this.hideSelected = true;
        /**
         * @Input : Angular
         * @description Whether to have the option to select the powerbar using checkboxes.
         */
        this.selectWithCheckbox = false;
        this.onCheckEvent = new EventEmitter();
        this.onClickEvent = new EventEmitter();
        this.NUMBER_FORMAT_CHAR = NUMBER_FORMAT_CHAR;
    }
    onCheck() {
        this.onCheckEvent.emit(true);
    }
    onSelect() {
        this.onClickEvent.emit(true);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: PowerbarComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.13", type: PowerbarComponent, selector: "arlas-powerbar", inputs: { powerbar: "powerbar", numberShorteningPrecision: "numberShorteningPrecision", unit: "unit", useColorService: "useColorService", useColorFromData: "useColorFromData", hideSelected: "hideSelected", selectWithCheckbox: "selectWithCheckbox" }, outputs: { onCheckEvent: "onCheckEvent", onClickEvent: "onClickEvent" }, ngImport: i0, template: "<ng-container *ngIf=\"!!powerbar\">\n    <ng-container *ngIf=\"!powerbar.isSelected || (powerbar.isSelected && !hideSelected)\">\n        <div class=\"container\" (click)=\"onSelect()\"> <!-- //NOSONAR -->\n            <section *ngIf=\"selectWithCheckbox\" class=\"checkbox checkbox-{{powerbar.classSuffix}}\">\n                <mat-checkbox [checked]=\"powerbar.isSelected\" (change)=\"onCheck()\" (click)=\"$event.stopPropagation()\"></mat-checkbox> <!-- //NOSONAR -->\n            </section>\n            <section style=\"width: 100%;\">\n                <div class=\"powerbars__powerbar powerbars__powerbar--{{powerbar.classSuffix}}\"\n                    matTooltip=\"{{(powerbar.count | formatNumber:NUMBER_FORMAT_CHAR) + ' ' + (unit | translate)}}\"\n                    [matTooltipPosition]=\"'after'\">\n                    <div class=\"powerbars__powerbar--top-group\">\n                        <div [class.powerbars__powerbar--selected]=\"powerbar.isSelected\" class=\"powerbars__powerbar--term powerbars__powerbar--term-{{powerbar.classSuffix}} powerbars__powerbar--term--{{powerbar.term}}\">\n                            {{powerbar.term | translate}}\n                        </div>\n\n                        <div [class.powerbars__powerbar--selected]=\"powerbar.isSelected\" class=\"powerbars__powerbar--count powerbars__powerbar--term-{{powerbar.classSuffix}} powerbars__powerbar--term--{{powerbar.term}}\">\n                            {{powerbar.count | shortenNumber:numberShorteningPrecision}}\n                        </div>\n                    </div>\n\n                    <div *ngIf=\"!useColorService && !useColorFromData\" class=\"powerbars__powerbar--progression-default-colour\"\n                        [style.width.%]=\"powerbar.progression\"></div>\n                    <div *ngIf=\"useColorService || useColorFromData\" [style.background-color]=\"powerbar.color\"\n                        [style.border-color]=\"powerbar.color\" [style.width.%]=\"powerbar.progression\" class=\"powerbars__powerbar--progression\"></div>\n                </div>\n            </section>\n        </div>\n    </ng-container>\n</ng-container>", styles: ["@charset \"UTF-8\";.container{display:flex;align-items:flex-start;--mdc-checkbox-state-layer-size: 10px}.container ::ng-deep .mdc-checkbox__native-control{top:0!important;right:0!important;left:0!important}.container ::ng-deep .mdc-checkbox,.container ::ng-deep .mdc-checkbox__background,.container ::ng-deep .mat-mdc-checkbox-touch-target,.container ::ng-deep .mdc-checkbox__ripple,.container ::ng-deep .mat-mdc-checkbox-ripple{width:10px;height:10px;top:0!important;left:0!important}.container ::ng-deep .mat-mdc-checkbox-touch-target{transform:unset}.checkbox{margin-right:5px;padding-bottom:5px}.powerbars__powerbar{position:relative;display:flex;flex-direction:column;justify-content:space-between}.powerbars__powerbar--neutral-state,.powerbars__powerbar--selected-bar,.powerbars__powerbar--unselected-bar,.powerbars__powerbar--selected-no-mounted-bar{margin-top:0;padding-bottom:8px}.powerbars__powerbar--neutral-state:hover,.powerbars__powerbar--selected-bar:hover,.powerbars__powerbar--unselected-bar:hover{opacity:.8;cursor:pointer}.powerbars__powerbar--progression-default-colour{background-color:#88c9c3;height:4px;border-radius:2px}.powerbars__powerbar--progression{height:4px;border-radius:2px}.powerbars__powerbar--top-group{cursor:pointer;display:flex;align-items:center;justify-content:space-between;width:100%}.powerbars__powerbar--term{font-size:10px;width:70%;cursor:pointer;position:absolute;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}.powerbars__powerbar--count{font-size:10px;width:100%;cursor:pointer;position:relative;display:inline-block;white-space:nowrap;text-align:right}.powerbars__powerbar--selected{font-weight:700}.powerbars__powerbar--term-unselected-bar{color:#888}.powerbars__powerbar--selected-bar,.powerbars__powerbar--selected-no-mounted-bar{background-color:#fff}\n"], dependencies: [{ kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.MatTooltip, selector: "[matTooltip]", inputs: ["matTooltipPosition", "matTooltipPositionAtOrigin", "matTooltipDisabled", "matTooltipShowDelay", "matTooltipHideDelay", "matTooltipTouchGestures", "matTooltip", "matTooltipClass"], exportAs: ["matTooltip"] }, { kind: "component", type: i3.MatCheckbox, selector: "mat-checkbox", inputs: ["aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "disableRipple", "tabIndex", "color", "disabledInteractive", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }, { kind: "pipe", type: i4.TranslatePipe, name: "translate" }, { kind: "pipe", type: i5.ShortenNumberPipe, name: "shortenNumber" }, { kind: "pipe", type: i6.FormatNumberPipe, name: "formatNumber" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: PowerbarComponent, decorators: [{
            type: Component,
            args: [{ selector: 'arlas-powerbar', template: "<ng-container *ngIf=\"!!powerbar\">\n    <ng-container *ngIf=\"!powerbar.isSelected || (powerbar.isSelected && !hideSelected)\">\n        <div class=\"container\" (click)=\"onSelect()\"> <!-- //NOSONAR -->\n            <section *ngIf=\"selectWithCheckbox\" class=\"checkbox checkbox-{{powerbar.classSuffix}}\">\n                <mat-checkbox [checked]=\"powerbar.isSelected\" (change)=\"onCheck()\" (click)=\"$event.stopPropagation()\"></mat-checkbox> <!-- //NOSONAR -->\n            </section>\n            <section style=\"width: 100%;\">\n                <div class=\"powerbars__powerbar powerbars__powerbar--{{powerbar.classSuffix}}\"\n                    matTooltip=\"{{(powerbar.count | formatNumber:NUMBER_FORMAT_CHAR) + ' ' + (unit | translate)}}\"\n                    [matTooltipPosition]=\"'after'\">\n                    <div class=\"powerbars__powerbar--top-group\">\n                        <div [class.powerbars__powerbar--selected]=\"powerbar.isSelected\" class=\"powerbars__powerbar--term powerbars__powerbar--term-{{powerbar.classSuffix}} powerbars__powerbar--term--{{powerbar.term}}\">\n                            {{powerbar.term | translate}}\n                        </div>\n\n                        <div [class.powerbars__powerbar--selected]=\"powerbar.isSelected\" class=\"powerbars__powerbar--count powerbars__powerbar--term-{{powerbar.classSuffix}} powerbars__powerbar--term--{{powerbar.term}}\">\n                            {{powerbar.count | shortenNumber:numberShorteningPrecision}}\n                        </div>\n                    </div>\n\n                    <div *ngIf=\"!useColorService && !useColorFromData\" class=\"powerbars__powerbar--progression-default-colour\"\n                        [style.width.%]=\"powerbar.progression\"></div>\n                    <div *ngIf=\"useColorService || useColorFromData\" [style.background-color]=\"powerbar.color\"\n                        [style.border-color]=\"powerbar.color\" [style.width.%]=\"powerbar.progression\" class=\"powerbars__powerbar--progression\"></div>\n                </div>\n            </section>\n        </div>\n    </ng-container>\n</ng-container>", styles: ["@charset \"UTF-8\";.container{display:flex;align-items:flex-start;--mdc-checkbox-state-layer-size: 10px}.container ::ng-deep .mdc-checkbox__native-control{top:0!important;right:0!important;left:0!important}.container ::ng-deep .mdc-checkbox,.container ::ng-deep .mdc-checkbox__background,.container ::ng-deep .mat-mdc-checkbox-touch-target,.container ::ng-deep .mdc-checkbox__ripple,.container ::ng-deep .mat-mdc-checkbox-ripple{width:10px;height:10px;top:0!important;left:0!important}.container ::ng-deep .mat-mdc-checkbox-touch-target{transform:unset}.checkbox{margin-right:5px;padding-bottom:5px}.powerbars__powerbar{position:relative;display:flex;flex-direction:column;justify-content:space-between}.powerbars__powerbar--neutral-state,.powerbars__powerbar--selected-bar,.powerbars__powerbar--unselected-bar,.powerbars__powerbar--selected-no-mounted-bar{margin-top:0;padding-bottom:8px}.powerbars__powerbar--neutral-state:hover,.powerbars__powerbar--selected-bar:hover,.powerbars__powerbar--unselected-bar:hover{opacity:.8;cursor:pointer}.powerbars__powerbar--progression-default-colour{background-color:#88c9c3;height:4px;border-radius:2px}.powerbars__powerbar--progression{height:4px;border-radius:2px}.powerbars__powerbar--top-group{cursor:pointer;display:flex;align-items:center;justify-content:space-between;width:100%}.powerbars__powerbar--term{font-size:10px;width:70%;cursor:pointer;position:absolute;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left}.powerbars__powerbar--count{font-size:10px;width:100%;cursor:pointer;position:relative;display:inline-block;white-space:nowrap;text-align:right}.powerbars__powerbar--selected{font-weight:700}.powerbars__powerbar--term-unselected-bar{color:#888}.powerbars__powerbar--selected-bar,.powerbars__powerbar--selected-no-mounted-bar{background-color:#fff}\n"] }]
        }], propDecorators: { powerbar: [{
                type: Input
            }], numberShorteningPrecision: [{
                type: Input
            }], unit: [{
                type: Input
            }], useColorService: [{
                type: Input
            }], useColorFromData: [{
                type: Input
            }], hideSelected: [{
                type: Input
            }], selectWithCheckbox: [{
                type: Input
            }], onCheckEvent: [{
                type: Output
            }], onClickEvent: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG93ZXJiYXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYXJsYXMtY29tcG9uZW50cy9zcmMvbGliL2NvbXBvbmVudHMvcG93ZXJiYXJzL3Bvd2VyYmFyL3Bvd2VyYmFyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FybGFzLWNvbXBvbmVudHMvc3JjL2xpYi9jb21wb25lbnRzL3Bvd2VyYmFycy9wb3dlcmJhci9wb3dlcmJhci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQkc7QUFFSCxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZFLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3pGLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQzs7Ozs7Ozs7QUFPN0MsTUFBTSxPQUFPLGlCQUFpQjtJQUw5QjtRQVFJOzs7O1dBSUc7UUFDYSw4QkFBeUIsR0FBRyw0QkFBNEIsQ0FBQztRQUN6RTs7O1dBR0c7UUFDYSxTQUFJLEdBQUcsRUFBRSxDQUFDO1FBQzFCOzs7V0FHRztRQUNhLG9CQUFlLEdBQUcsS0FBSyxDQUFDO1FBQ3hDOzs7V0FHRztRQUNhLHFCQUFnQixHQUFHLEtBQUssQ0FBQztRQUV6Qzs7O1dBR0c7UUFDYSxpQkFBWSxHQUFHLElBQUksQ0FBQztRQUVwQzs7O1dBR0c7UUFDYSx1QkFBa0IsR0FBRyxLQUFLLENBQUM7UUFFMUIsaUJBQVksR0FBMEIsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUV6RCxpQkFBWSxHQUFHLElBQUksWUFBWSxFQUFXLENBQUM7UUFFckQsdUJBQWtCLEdBQUcsa0JBQWtCLENBQUM7S0FTbEQ7SUFQVSxPQUFPO1FBQ1YsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVNLFFBQVE7UUFDWCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDOytHQWpEUSxpQkFBaUI7bUdBQWpCLGlCQUFpQix5WEM1QjlCLDRtRUE0QmU7OzRGREFGLGlCQUFpQjtrQkFMN0IsU0FBUzsrQkFDSSxnQkFBZ0I7OEJBTVYsUUFBUTtzQkFBdkIsS0FBSztnQkFNVSx5QkFBeUI7c0JBQXhDLEtBQUs7Z0JBS1UsSUFBSTtzQkFBbkIsS0FBSztnQkFLVSxlQUFlO3NCQUE5QixLQUFLO2dCQUtVLGdCQUFnQjtzQkFBL0IsS0FBSztnQkFNVSxZQUFZO3NCQUEzQixLQUFLO2dCQU1VLGtCQUFrQjtzQkFBakMsS0FBSztnQkFFVyxZQUFZO3NCQUE1QixNQUFNO2dCQUVVLFlBQVk7c0JBQTVCLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogTGljZW5zZWQgdG8gR2lzYcOvYSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvclxuICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRS50eHQgZmlsZSBkaXN0cmlidXRlZCB3aXRoXG4gKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodFxuICogb3duZXJzaGlwLiBHaXNhw69hIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXJcbiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXlcbiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERFRkFVTFRfU0hPUlRFTklOR19QUkVDSVNJT04sIE5VTUJFUl9GT1JNQVRfQ0hBUiB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHNVdGlscyc7XG5pbXBvcnQgeyBQb3dlckJhciB9IGZyb20gJy4uL21vZGVsL3Bvd2VyYmFyJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhcmxhcy1wb3dlcmJhcicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3Bvd2VyYmFyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9wb3dlcmJhci5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFBvd2VyYmFyQ29tcG9uZW50IHtcblxuICAgIEBJbnB1dCgpIHB1YmxpYyBwb3dlcmJhcjogUG93ZXJCYXI7XG4gICAgLyoqXG4gICAgICogQElucHV0IDogQW5ndWxhclxuICAgICAqIEBkZXNjcmlwdGlvbiBQcmVjaXNpb24gd2hlbiByb3VuZGluZyBudW1iZXJzIChpZSB0aGUgY291bnQgbmV4dCB0byB0aGUgcHJvZ3Jlc3MgYmFyKS5cbiAgICAgKiBEZWZhdWx0IGlzIDIuXG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIG51bWJlclNob3J0ZW5pbmdQcmVjaXNpb24gPSBERUZBVUxUX1NIT1JURU5JTkdfUFJFQ0lTSU9OO1xuICAgIC8qKlxuICAgICAqIEBJbnB1dCA6IEFuZ3VsYXJcbiAgICAgKiBAZGVzY3JpcHRpb24gVW5pdCB0aGUgYSBwb3dlcmJhciByZXByZXNlbnRzXG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIHVuaXQgPSAnJztcbiAgICAvKipcbiAgICAgKiBASW5wdXQgOiBBbmd1bGFyXG4gICAgICogQGRlc2NyaXB0aW9uIFdoZXRoZXIgdG8gYWxsb3cgY29sb3JpemluZyB0aGUgYmFyIGFjY29yZGluZyB0byBpdHMgdGVybSBvciBub3QgdXNpbmcga2V5c1RvQ29sb3JzXG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIHVzZUNvbG9yU2VydmljZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEBJbnB1dCA6IEFuZ3VsYXJcbiAgICAgKiBAZGVzY3JpcHRpb24gV2hldGhlciB0byBhbGxvdyBjb2xvcml6aW5nIHRoZSBiYXIgYWNjb3JkaW5nIHRvIGl0cyB0ZXJtIG9yIG5vdCB1c2luZyBhIGZpZWxkIG9mIHRoZSBkYXRhXG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIHVzZUNvbG9yRnJvbURhdGEgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEBJbnB1dCA6IEFuZ3VsYXJcbiAgICAgKiBAZGVzY3JpcHRpb24gSGlkZSBzZWxlY3RlZCBwb3dlcmJhclxuICAgICAqL1xuICAgIEBJbnB1dCgpIHB1YmxpYyBoaWRlU2VsZWN0ZWQgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQElucHV0IDogQW5ndWxhclxuICAgICAqIEBkZXNjcmlwdGlvbiBXaGV0aGVyIHRvIGhhdmUgdGhlIG9wdGlvbiB0byBzZWxlY3QgdGhlIHBvd2VyYmFyIHVzaW5nIGNoZWNrYm94ZXMuXG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIHNlbGVjdFdpdGhDaGVja2JveCA9IGZhbHNlO1xuXG4gICAgQE91dHB1dCgpIHB1YmxpYyBvbkNoZWNrRXZlbnQ6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBPdXRwdXQoKSBwdWJsaWMgb25DbGlja0V2ZW50ID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuXG4gICAgcHVibGljIE5VTUJFUl9GT1JNQVRfQ0hBUiA9IE5VTUJFUl9GT1JNQVRfQ0hBUjtcblxuICAgIHB1YmxpYyBvbkNoZWNrKCkge1xuICAgICAgICB0aGlzLm9uQ2hlY2tFdmVudC5lbWl0KHRydWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblNlbGVjdCgpIHtcbiAgICAgICAgdGhpcy5vbkNsaWNrRXZlbnQuZW1pdCh0cnVlKTtcbiAgICB9XG59XG4iLCI8bmctY29udGFpbmVyICpuZ0lmPVwiISFwb3dlcmJhclwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCIhcG93ZXJiYXIuaXNTZWxlY3RlZCB8fCAocG93ZXJiYXIuaXNTZWxlY3RlZCAmJiAhaGlkZVNlbGVjdGVkKVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCIgKGNsaWNrKT1cIm9uU2VsZWN0KClcIj4gPCEtLSAvL05PU09OQVIgLS0+XG4gICAgICAgICAgICA8c2VjdGlvbiAqbmdJZj1cInNlbGVjdFdpdGhDaGVja2JveFwiIGNsYXNzPVwiY2hlY2tib3ggY2hlY2tib3gte3twb3dlcmJhci5jbGFzc1N1ZmZpeH19XCI+XG4gICAgICAgICAgICAgICAgPG1hdC1jaGVja2JveCBbY2hlY2tlZF09XCJwb3dlcmJhci5pc1NlbGVjdGVkXCIgKGNoYW5nZSk9XCJvbkNoZWNrKClcIiAoY2xpY2spPVwiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXCI+PC9tYXQtY2hlY2tib3g+IDwhLS0gLy9OT1NPTkFSIC0tPlxuICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgICAgPHNlY3Rpb24gc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG93ZXJiYXJzX19wb3dlcmJhciBwb3dlcmJhcnNfX3Bvd2VyYmFyLS17e3Bvd2VyYmFyLmNsYXNzU3VmZml4fX1cIlxuICAgICAgICAgICAgICAgICAgICBtYXRUb29sdGlwPVwie3socG93ZXJiYXIuY291bnQgfCBmb3JtYXROdW1iZXI6TlVNQkVSX0ZPUk1BVF9DSEFSKSArICcgJyArICh1bml0IHwgdHJhbnNsYXRlKX19XCJcbiAgICAgICAgICAgICAgICAgICAgW21hdFRvb2x0aXBQb3NpdGlvbl09XCInYWZ0ZXInXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3dlcmJhcnNfX3Bvd2VyYmFyLS10b3AtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgW2NsYXNzLnBvd2VyYmFyc19fcG93ZXJiYXItLXNlbGVjdGVkXT1cInBvd2VyYmFyLmlzU2VsZWN0ZWRcIiBjbGFzcz1cInBvd2VyYmFyc19fcG93ZXJiYXItLXRlcm0gcG93ZXJiYXJzX19wb3dlcmJhci0tdGVybS17e3Bvd2VyYmFyLmNsYXNzU3VmZml4fX0gcG93ZXJiYXJzX19wb3dlcmJhci0tdGVybS0te3twb3dlcmJhci50ZXJtfX1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7e3Bvd2VyYmFyLnRlcm0gfCB0cmFuc2xhdGV9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgW2NsYXNzLnBvd2VyYmFyc19fcG93ZXJiYXItLXNlbGVjdGVkXT1cInBvd2VyYmFyLmlzU2VsZWN0ZWRcIiBjbGFzcz1cInBvd2VyYmFyc19fcG93ZXJiYXItLWNvdW50IHBvd2VyYmFyc19fcG93ZXJiYXItLXRlcm0te3twb3dlcmJhci5jbGFzc1N1ZmZpeH19IHBvd2VyYmFyc19fcG93ZXJiYXItLXRlcm0tLXt7cG93ZXJiYXIudGVybX19XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3twb3dlcmJhci5jb3VudCB8IHNob3J0ZW5OdW1iZXI6bnVtYmVyU2hvcnRlbmluZ1ByZWNpc2lvbn19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiF1c2VDb2xvclNlcnZpY2UgJiYgIXVzZUNvbG9yRnJvbURhdGFcIiBjbGFzcz1cInBvd2VyYmFyc19fcG93ZXJiYXItLXByb2dyZXNzaW9uLWRlZmF1bHQtY29sb3VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS53aWR0aC4lXT1cInBvd2VyYmFyLnByb2dyZXNzaW9uXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJ1c2VDb2xvclNlcnZpY2UgfHwgdXNlQ29sb3JGcm9tRGF0YVwiIFtzdHlsZS5iYWNrZ3JvdW5kLWNvbG9yXT1cInBvd2VyYmFyLmNvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtzdHlsZS5ib3JkZXItY29sb3JdPVwicG93ZXJiYXIuY29sb3JcIiBbc3R5bGUud2lkdGguJV09XCJwb3dlcmJhci5wcm9ncmVzc2lvblwiIGNsYXNzPVwicG93ZXJiYXJzX19wb3dlcmJhci0tcHJvZ3Jlc3Npb25cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9uZy1jb250YWluZXI+XG48L25nLWNvbnRhaW5lcj4iXX0=