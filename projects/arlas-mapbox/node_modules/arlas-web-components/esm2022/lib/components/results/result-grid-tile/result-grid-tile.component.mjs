/*
 * Licensed to Gisaïa under one or more contributor
 * license agreements. See the NOTICE.txt file distributed with
 * this work for additional information regarding copyright
 * ownership. Gisaïa licenses this file to you under
 * the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
import { Component, Input, Output, ViewChild } from '@angular/core';
import { MatTooltip } from '@angular/material/tooltip';
import { Subject } from 'rxjs';
import { Item } from '../model/item';
import { ItemComponent } from '../model/itemComponent';
import { ThumbnailFitEnum } from '../utils/enumerations/thumbnailFitEnum';
import { ResultListOptions } from '../utils/results.utils';
import { marker } from '@colsen1991/ngx-translate-extract-marker';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/icon";
import * as i3 from "@angular/material/tooltip";
import * as i4 from "ng-lazyload-image";
import * as i5 from "../result-actions/result-actions.component";
import * as i6 from "@ngx-translate/core";
export class ResultGridTileComponent extends ItemComponent {
    constructor() {
        super();
        /**
         * @constant
         */
        this.SHOW_IMAGE = marker('Click to show details');
        /**
         * @Input
         * @description How to fit the thumbnail to the tile:
         * - `height` fit the height of the thumbnail.
         * - `width` fit the width of the thumbnail.
         * - `contain` fit the wholethumbnail.
         */
        this.thumbnailFit = ThumbnailFitEnum.contain;
        /**
         * @Input : Angular
         * @description Map <itemId, Set<actionIds>> : for each item, gives the list of activated actions.
        */
        this.activatedActionsPerItem = new Map();
        /**
        * @Input
        * @description Display or not big full info icon on the grid.
        */
        this.displayInfoIcon = false;
        /**
         * @Output
         * @description Emits the event of applying the specified action on the specified item.
         */
        this.actionOnItemEvent = new Subject();
        /**
         * @Output
         * @description Emits the list of selected items in result-list.component.
         */
        this.selectedItemsEvent = new Subject();
        /**
         * @Output
         * @description Emits the selected/unselected item.
         * @deprecated
         */
        this.selectedItemPositionEvent = new Subject();
        /**
         * @Output
         * @description Emits the the item that it has been clicked on it.
         */
        this.clickedOnItemEvent = new Subject();
        this.ThumbnailFitEnum = ThumbnailFitEnum;
    }
    /**
     * Hides the cell's tooltip when the mouse is over the attachements buttons
     * @param event mouseover event
     */
    hideCellTooltip(event) {
        event.stopPropagation();
        this.cellTooltip.hide();
    }
    /**
     * Shows the cell's tooltip when the mouse is over the tile
     */
    showCellTooltip() {
        this.cellTooltip.show();
    }
    ngOnInit() { }
    // Update the list of the selected items
    setSelectedItem() {
        super.setSelectedItem(this.gridTile.isChecked, this.gridTile.identifier, this.selectedItems);
        this.gridTile.isChecked = !this.gridTile.isChecked;
        // Emit to the result list the fact that this checkbox has changed in order to notify the correspondant one in list mode
        this.selectedItemsEvent.next(this.selectedItems);
    }
    determinateItem() {
        this.gridTile.isChecked = true;
        this.gridTile.isindeterminated = false;
        this.selectedItems.add(this.gridTile.identifier);
        // Emit to the result list the fact that this checkbox has changed in order to notify the correspondant one in grid mode
        this.selectedItemsEvent.next(this.selectedItems);
    }
    setClickedOnItem() {
        this.retrieveAdditionalInfo(this.detailedDataRetriever, this.gridTile);
        this.clickedOnItemEvent.next(this.gridTile);
    }
    triggerActionOnItem(action) {
        this.actionOnItemEvent.next({
            action: action,
            elementidentifier: { idFieldName: this.idFieldName, idValue: this.gridTile.identifier }
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: ResultGridTileComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.13", type: ResultGridTileComponent, selector: "arlas-result-grid-tile", inputs: { gridTile: "gridTile", thumbnailFit: "thumbnailFit", selectedItems: "selectedItems", detailedDataRetriever: "detailedDataRetriever", options: "options", idFieldName: "idFieldName", activatedActionsPerItem: "activatedActionsPerItem", displayInfoIcon: "displayInfoIcon" }, outputs: { actionOnItemEvent: "actionOnItemEvent", selectedItemsEvent: "selectedItemsEvent", selectedItemPositionEvent: "selectedItemPositionEvent", clickedOnItemEvent: "clickedOnItemEvent" }, viewQueries: [{ propertyName: "cellTooltip", first: true, predicate: ["cellTooltip"], descendants: true, static: true }], usesInheritance: true, ngImport: i0, template: "<div class=\"resultgrid\" >\n  <div class=\"resultgrid--container resultgrid--container-highlight-{{gridTile?.ishighLight}}\" color=\"primary\"[style.border-color]=\"gridTile?.color ? gridTile?.color : 'none'\">\n    <mat-icon *ngIf=\"gridTile?.isChecked && !gridTile?.isindeterminated\" (click)=\"setSelectedItem()\" class=\"primary resultgrid__icon_check mat-icon material-icons\">check_box</mat-icon>\n    <mat-icon *ngIf=\"!gridTile?.isChecked && !gridTile?.isindeterminated\" (click)=\"setSelectedItem()\" class=\"primary resultgrid__icon_check mat-icon material-icons\">check_box_outline_blank</mat-icon>\n    <mat-icon *ngIf=\"gridTile?.isindeterminated\" (click)=\"determinateItem()\" class=\"primary resultgrid__icon_check mat-icon material-icons\">indeterminate_check_box</mat-icon>\n    <div id=\"{{'grid-tile-' + gridTile?.identifier}}\" (click)=\"setClickedOnItem()\" (mouseover)=\"showCellTooltip()\" #cellTooltip=\"matTooltip\" matTooltip=\"{{SHOW_IMAGE | translate}}\"  class=\"resultgrid__img {{gridTile?.iconCssClass}}\">\n      <img [defaultImage]=\"options?.defautlImgUrl\" [lazyLoad]=\"gridTile?.urlThumbnail\"\n        [class.contain_thumbnail]=\"thumbnailFit === ThumbnailFitEnum.contain\" [class.height_thumbnail]=\"thumbnailFit === ThumbnailFitEnum.height\"\n        [class.width_thumbnail]=\"thumbnailFit === ThumbnailFitEnum.width\">\n      <div *ngIf=\"options?.showActionsOnhover\" class=\"actions\" (mouseover)=\"hideCellTooltip($event)\">\n        <arlas-result-actions \n          [activatedActionsPerItem]=\"activatedActionsPerItem\" \n          [detailedDataRetriever]=\"detailedDataRetriever\"\n          [item]=\"gridTile\"\n          [stopPropagation]=\"true\"\n          (actionOnItemEvent)=\"triggerActionOnItem($event)\" ></arlas-result-actions>\n\n      </div>\n      <mat-icon class=\"resultlist__md-grid-tile__selected--icon\" *ngIf=\"displayInfoIcon\">info_outline</mat-icon>\n    </div>\n    <div class=\"resultgrid__title-highlight-{{gridTile?.ishighLight}}\">\n      <span *ngIf=\"gridTile?.color\" matTooltip=\"{{gridTile?.tooltip}}\" class=\"tablet\" [style.background-color]=\"gridTile?.color\"></span>\n      <span class=\"resultgrid__title  resultgrid__title-{{gridTile?.iconCssClass}}\" > {{gridTile?.title}} </span>\n    </div>\n  </div>\n</div>\n", styles: ["@charset \"UTF-8\";.resultgrid{width:100%;height:100%}.resultitem-grid__actions{min-width:0;border-radius:50%;border:none;width:24px;height:24px;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;font-size:0;margin:1px 5px;background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg%20width%3D%2720%27%20height%3D%2720%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%20%3Cg%3E%20%20%3Ctitle%3Ebackground%3C%2Ftitle%3E%20%20%3Crect%20fill%3D%27%23fff%27%20id%3D%27canvas_background%27%20height%3D%2722%27%20width%3D%2722%27%20y%3D%27-1%27%20x%3D%27-1%27%2F%3E%20%20%3Cg%20display%3D%27none%27%20overflow%3D%27visible%27%20y%3D%270%27%20x%3D%270%27%20height%3D%27100%25%27%20width%3D%27100%25%27%20id%3D%27canvasGrid%27%3E%20%20%20%3Crect%20fill%3D%27url(%23gridpattern)%27%20stroke-width%3D%270%27%20y%3D%270%27%20x%3D%270%27%20height%3D%27100%25%27%20width%3D%27100%25%27%2F%3E%20%20%3C%2Fg%3E%20%3C%2Fg%3E%20%3Cg%3E%20%20%3Ctitle%3ELayer%201%3C%2Ftitle%3E%20%20%3Cellipse%20stroke%3D%27%23000000%27%20ry%3D%275.779194%27%20rx%3D%275.5%27%20id%3D%27svg_1%27%20cy%3D%2710.000004%27%20cx%3D%2710%27%20stroke-width%3D%272.5%27%20fill%3D%27%23ffffff%27%2F%3E%20%3C%2Fg%3E%3C%2Fsvg%3E\");background-repeat:no-repeat;background-position:center}.resultitem-grid__actions:active{border:1px solid white}.grid_actions{flex-direction:row-reverse;flex-wrap:wrap-reverse;position:absolute;bottom:1px;right:0;margin-left:2px;margin-top:2px}.resultgrid__img:hover .grid_actions{display:flex;justify-content:space-between}.resultgrid--container,.resultgrid--container-highlight-{width:100%;height:100%;margin:1px;background-color:#fff;position:relative;color:#000}.resultgrid .resultgrid--container .resultgrid__img:hover .actions ::ng-deep .list_actions .not_activated{display:block}.resultgrid .resultgrid--container .resultgrid__img .actions{position:absolute;bottom:15%;right:2px}.resultgrid--container-highlight-false{opacity:.3}.resultgrid--container-highlight-true{opacity:1}.resultgrid__icon_check{position:absolute;top:5px;left:5px;font-size:15px;width:15px;height:15px;color:#fff;cursor:pointer;z-index:5;-webkit-user-select:none;user-select:none}.resultgrid__img{box-sizing:border-box;display:flex;height:85%;width:100%;padding:2px;background-position:center center;background-repeat:no-repeat;position:relative;align-items:center;justify-content:center;background-color:#000}.resultgrid__title-highlight-,.resultgrid__title-highlight-false,.resultgrid__title-highlight-true{height:15%;color:#000;font-family:Roboto,Helvetica Neue,sans-serif;font-size:12px;display:flex;justify-content:space-between;align-items:center;padding:0 5px;box-sizing:border-box}.resultgrid__title-highlight- .tablet,.resultgrid__title-highlight-false .tablet,.resultgrid__title-highlight-true .tablet{height:80%;max-height:20px;aspect-ratio:1;border-radius:100px;margin-right:2px}.resultgrid__title-highlight- .resultgrid__title,.resultgrid__title-highlight-false .resultgrid__title,.resultgrid__title-highlight-true .resultgrid__title{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.resultgrid__title-highlight-false{opacity:.3}.fill-images{object-fit:cover;width:100%;height:100%;background-color:#000}.contain_thumbnail{object-fit:contain;width:100%;height:100%;background-color:#000}.height_thumbnail{object-fit:cover;max-width:100%;max-height:100%;height:100%;background-color:#000}.width_thumbnail{object-fit:cover;max-width:100%;max-height:100%;width:100%;background-color:#000}.resultlist__md-grid-tile{margin-top:5px}.resultlist__md-grid-tile__selected--icon{position:absolute;z-index:1;top:15px;color:#fff;background-color:transparent;opacity:50%;font-size:72px;height:72px!important;width:72px!important;pointer-events:auto;cursor:default}\n"], dependencies: [{ kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "directive", type: i3.MatTooltip, selector: "[matTooltip]", inputs: ["matTooltipPosition", "matTooltipPositionAtOrigin", "matTooltipDisabled", "matTooltipShowDelay", "matTooltipHideDelay", "matTooltipTouchGestures", "matTooltip", "matTooltipClass"], exportAs: ["matTooltip"] }, { kind: "directive", type: i4.LazyLoadImageDirective, selector: "[lazyLoad]", inputs: ["lazyLoad", "defaultImage", "errorImage", "scrollTarget", "customObservable", "offset", "useSrcset", "decode", "debug"], outputs: ["onStateChange"] }, { kind: "component", type: i5.ResultActionsComponent, selector: "arlas-result-actions", inputs: ["item", "width", "activatedActionsPerItem", "detailedDataRetriever", "stopPropagation", "mode"], outputs: ["actionOnItemEvent"] }, { kind: "pipe", type: i6.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: ResultGridTileComponent, decorators: [{
            type: Component,
            args: [{ selector: 'arlas-result-grid-tile', template: "<div class=\"resultgrid\" >\n  <div class=\"resultgrid--container resultgrid--container-highlight-{{gridTile?.ishighLight}}\" color=\"primary\"[style.border-color]=\"gridTile?.color ? gridTile?.color : 'none'\">\n    <mat-icon *ngIf=\"gridTile?.isChecked && !gridTile?.isindeterminated\" (click)=\"setSelectedItem()\" class=\"primary resultgrid__icon_check mat-icon material-icons\">check_box</mat-icon>\n    <mat-icon *ngIf=\"!gridTile?.isChecked && !gridTile?.isindeterminated\" (click)=\"setSelectedItem()\" class=\"primary resultgrid__icon_check mat-icon material-icons\">check_box_outline_blank</mat-icon>\n    <mat-icon *ngIf=\"gridTile?.isindeterminated\" (click)=\"determinateItem()\" class=\"primary resultgrid__icon_check mat-icon material-icons\">indeterminate_check_box</mat-icon>\n    <div id=\"{{'grid-tile-' + gridTile?.identifier}}\" (click)=\"setClickedOnItem()\" (mouseover)=\"showCellTooltip()\" #cellTooltip=\"matTooltip\" matTooltip=\"{{SHOW_IMAGE | translate}}\"  class=\"resultgrid__img {{gridTile?.iconCssClass}}\">\n      <img [defaultImage]=\"options?.defautlImgUrl\" [lazyLoad]=\"gridTile?.urlThumbnail\"\n        [class.contain_thumbnail]=\"thumbnailFit === ThumbnailFitEnum.contain\" [class.height_thumbnail]=\"thumbnailFit === ThumbnailFitEnum.height\"\n        [class.width_thumbnail]=\"thumbnailFit === ThumbnailFitEnum.width\">\n      <div *ngIf=\"options?.showActionsOnhover\" class=\"actions\" (mouseover)=\"hideCellTooltip($event)\">\n        <arlas-result-actions \n          [activatedActionsPerItem]=\"activatedActionsPerItem\" \n          [detailedDataRetriever]=\"detailedDataRetriever\"\n          [item]=\"gridTile\"\n          [stopPropagation]=\"true\"\n          (actionOnItemEvent)=\"triggerActionOnItem($event)\" ></arlas-result-actions>\n\n      </div>\n      <mat-icon class=\"resultlist__md-grid-tile__selected--icon\" *ngIf=\"displayInfoIcon\">info_outline</mat-icon>\n    </div>\n    <div class=\"resultgrid__title-highlight-{{gridTile?.ishighLight}}\">\n      <span *ngIf=\"gridTile?.color\" matTooltip=\"{{gridTile?.tooltip}}\" class=\"tablet\" [style.background-color]=\"gridTile?.color\"></span>\n      <span class=\"resultgrid__title  resultgrid__title-{{gridTile?.iconCssClass}}\" > {{gridTile?.title}} </span>\n    </div>\n  </div>\n</div>\n", styles: ["@charset \"UTF-8\";.resultgrid{width:100%;height:100%}.resultitem-grid__actions{min-width:0;border-radius:50%;border:none;width:24px;height:24px;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;font-size:0;margin:1px 5px;background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg%20width%3D%2720%27%20height%3D%2720%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%20%3Cg%3E%20%20%3Ctitle%3Ebackground%3C%2Ftitle%3E%20%20%3Crect%20fill%3D%27%23fff%27%20id%3D%27canvas_background%27%20height%3D%2722%27%20width%3D%2722%27%20y%3D%27-1%27%20x%3D%27-1%27%2F%3E%20%20%3Cg%20display%3D%27none%27%20overflow%3D%27visible%27%20y%3D%270%27%20x%3D%270%27%20height%3D%27100%25%27%20width%3D%27100%25%27%20id%3D%27canvasGrid%27%3E%20%20%20%3Crect%20fill%3D%27url(%23gridpattern)%27%20stroke-width%3D%270%27%20y%3D%270%27%20x%3D%270%27%20height%3D%27100%25%27%20width%3D%27100%25%27%2F%3E%20%20%3C%2Fg%3E%20%3C%2Fg%3E%20%3Cg%3E%20%20%3Ctitle%3ELayer%201%3C%2Ftitle%3E%20%20%3Cellipse%20stroke%3D%27%23000000%27%20ry%3D%275.779194%27%20rx%3D%275.5%27%20id%3D%27svg_1%27%20cy%3D%2710.000004%27%20cx%3D%2710%27%20stroke-width%3D%272.5%27%20fill%3D%27%23ffffff%27%2F%3E%20%3C%2Fg%3E%3C%2Fsvg%3E\");background-repeat:no-repeat;background-position:center}.resultitem-grid__actions:active{border:1px solid white}.grid_actions{flex-direction:row-reverse;flex-wrap:wrap-reverse;position:absolute;bottom:1px;right:0;margin-left:2px;margin-top:2px}.resultgrid__img:hover .grid_actions{display:flex;justify-content:space-between}.resultgrid--container,.resultgrid--container-highlight-{width:100%;height:100%;margin:1px;background-color:#fff;position:relative;color:#000}.resultgrid .resultgrid--container .resultgrid__img:hover .actions ::ng-deep .list_actions .not_activated{display:block}.resultgrid .resultgrid--container .resultgrid__img .actions{position:absolute;bottom:15%;right:2px}.resultgrid--container-highlight-false{opacity:.3}.resultgrid--container-highlight-true{opacity:1}.resultgrid__icon_check{position:absolute;top:5px;left:5px;font-size:15px;width:15px;height:15px;color:#fff;cursor:pointer;z-index:5;-webkit-user-select:none;user-select:none}.resultgrid__img{box-sizing:border-box;display:flex;height:85%;width:100%;padding:2px;background-position:center center;background-repeat:no-repeat;position:relative;align-items:center;justify-content:center;background-color:#000}.resultgrid__title-highlight-,.resultgrid__title-highlight-false,.resultgrid__title-highlight-true{height:15%;color:#000;font-family:Roboto,Helvetica Neue,sans-serif;font-size:12px;display:flex;justify-content:space-between;align-items:center;padding:0 5px;box-sizing:border-box}.resultgrid__title-highlight- .tablet,.resultgrid__title-highlight-false .tablet,.resultgrid__title-highlight-true .tablet{height:80%;max-height:20px;aspect-ratio:1;border-radius:100px;margin-right:2px}.resultgrid__title-highlight- .resultgrid__title,.resultgrid__title-highlight-false .resultgrid__title,.resultgrid__title-highlight-true .resultgrid__title{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.resultgrid__title-highlight-false{opacity:.3}.fill-images{object-fit:cover;width:100%;height:100%;background-color:#000}.contain_thumbnail{object-fit:contain;width:100%;height:100%;background-color:#000}.height_thumbnail{object-fit:cover;max-width:100%;max-height:100%;height:100%;background-color:#000}.width_thumbnail{object-fit:cover;max-width:100%;max-height:100%;width:100%;background-color:#000}.resultlist__md-grid-tile{margin-top:5px}.resultlist__md-grid-tile__selected--icon{position:absolute;z-index:1;top:15px;color:#fff;background-color:transparent;opacity:50%;font-size:72px;height:72px!important;width:72px!important;pointer-events:auto;cursor:default}\n"] }]
        }], ctorParameters: () => [], propDecorators: { cellTooltip: [{
                type: ViewChild,
                args: ['cellTooltip', { static: true }]
            }], gridTile: [{
                type: Input
            }], thumbnailFit: [{
                type: Input
            }], selectedItems: [{
                type: Input
            }], detailedDataRetriever: [{
                type: Input
            }], options: [{
                type: Input
            }], idFieldName: [{
                type: Input
            }], activatedActionsPerItem: [{
                type: Input
            }], displayInfoIcon: [{
                type: Input
            }], actionOnItemEvent: [{
                type: Output
            }], selectedItemsEvent: [{
                type: Output
            }], selectedItemPositionEvent: [{
                type: Output
            }], clickedOnItemEvent: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdWx0LWdyaWQtdGlsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hcmxhcy1jb21wb25lbnRzL3NyYy9saWIvY29tcG9uZW50cy9yZXN1bHRzL3Jlc3VsdC1ncmlkLXRpbGUvcmVzdWx0LWdyaWQtdGlsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hcmxhcy1jb21wb25lbnRzL3NyYy9saWIvY29tcG9uZW50cy9yZXN1bHRzL3Jlc3VsdC1ncmlkLXRpbGUvcmVzdWx0LWdyaWQtdGlsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQkc7QUFFSCxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQy9CLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRXZELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHdDQUF3QyxDQUFDO0FBQzFFLE9BQU8sRUFBNkIsaUJBQWlCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN0RixPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sMENBQTBDLENBQUM7Ozs7Ozs7O0FBT2xFLE1BQU0sT0FBTyx1QkFBd0IsU0FBUSxhQUFhO0lBNEZ4RDtRQUNFLEtBQUssRUFBRSxDQUFDO1FBNUZWOztXQUVHO1FBQ0ksZUFBVSxHQUFHLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBV3BEOzs7Ozs7V0FNRztRQUNjLGlCQUFZLEdBQXFCLGdCQUFnQixDQUFDLE9BQU8sQ0FBQztRQTBCM0U7OztVQUdFO1FBQ2MsNEJBQXVCLEdBQTZCLElBQUksR0FBRyxFQUF1QixDQUFDO1FBQ25HOzs7VUFHRTtRQUNlLG9CQUFlLEdBQUcsS0FBSyxDQUFDO1FBSXpDOzs7V0FHRztRQUNjLHNCQUFpQixHQUNoQyxJQUFJLE9BQU8sRUFBNkQsQ0FBQztRQUczRTs7O1dBR0c7UUFDYyx1QkFBa0IsR0FBeUIsSUFBSSxPQUFPLEVBQWUsQ0FBQztRQUV2Rjs7OztXQUlHO1FBQ2MsOEJBQXlCLEdBQWtCLElBQUksT0FBTyxFQUFRLENBQUM7UUFFaEY7OztXQUdHO1FBQ2MsdUJBQWtCLEdBQWtCLElBQUksT0FBTyxFQUFRLENBQUM7UUFJbEUscUJBQWdCLEdBQUcsZ0JBQWdCLENBQUM7SUFJM0MsQ0FBQztJQUVEOzs7T0FHRztJQUNJLGVBQWUsQ0FBQyxLQUFZO1FBQ2pDLEtBQUssQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRDs7T0FFRztJQUNJLGVBQWU7UUFDcEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRU0sUUFBUSxLQUFLLENBQUM7SUFFckIsd0NBQXdDO0lBQ2pDLGVBQWU7UUFDcEIsS0FBSyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDN0YsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQztRQUNuRCx3SEFBd0g7UUFDeEgsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVNLGVBQWU7UUFDcEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakQsd0hBQXdIO1FBQ3hILElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFTSxnQkFBZ0I7UUFDckIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVNLG1CQUFtQixDQUFDLE1BQWM7UUFDdkMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FDekI7WUFDRSxNQUFNLEVBQUUsTUFBTTtZQUNkLGlCQUFpQixFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFO1NBQ3hGLENBQ0YsQ0FBQztJQUNKLENBQUM7K0dBOUlVLHVCQUF1QjttR0FBdkIsdUJBQXVCLHdxQkNsQ3BDLCt2RUEwQkE7OzRGRFFhLHVCQUF1QjtrQkFMbkMsU0FBUzsrQkFDRSx3QkFBd0I7d0RBVzNCLFdBQVc7c0JBRGpCLFNBQVM7dUJBQUMsYUFBYSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtnQkFPMUIsUUFBUTtzQkFBdkIsS0FBSztnQkFTVyxZQUFZO3NCQUEzQixLQUFLO2dCQU1TLGFBQWE7c0JBQTVCLEtBQUs7Z0JBTVUscUJBQXFCO3NCQUFwQyxLQUFLO2dCQU1VLE9BQU87c0JBQXRCLEtBQUs7Z0JBTVUsV0FBVztzQkFBMUIsS0FBSztnQkFNVSx1QkFBdUI7c0JBQXRDLEtBQUs7Z0JBS1csZUFBZTtzQkFBL0IsS0FBSztnQkFRVyxpQkFBaUI7c0JBQWpDLE1BQU07Z0JBUVUsa0JBQWtCO3NCQUFsQyxNQUFNO2dCQU9VLHlCQUF5QjtzQkFBekMsTUFBTTtnQkFNVSxrQkFBa0I7c0JBQWxDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogTGljZW5zZWQgdG8gR2lzYcOvYSB1bmRlciBvbmUgb3IgbW9yZSBjb250cmlidXRvclxuICogbGljZW5zZSBhZ3JlZW1lbnRzLiBTZWUgdGhlIE5PVElDRS50eHQgZmlsZSBkaXN0cmlidXRlZCB3aXRoXG4gKiB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGNvcHlyaWdodFxuICogb3duZXJzaGlwLiBHaXNhw69hIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXJcbiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXlcbiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0VG9vbHRpcCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3Rvb2x0aXAnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSXRlbSB9IGZyb20gJy4uL21vZGVsL2l0ZW0nO1xuaW1wb3J0IHsgSXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL21vZGVsL2l0ZW1Db21wb25lbnQnO1xuaW1wb3J0IHsgRGV0YWlsZWREYXRhUmV0cmlldmVyIH0gZnJvbSAnLi4vdXRpbHMvZGV0YWlsZWQtZGF0YS1yZXRyaWV2ZXInO1xuaW1wb3J0IHsgVGh1bWJuYWlsRml0RW51bSB9IGZyb20gJy4uL3V0aWxzL2VudW1lcmF0aW9ucy90aHVtYm5haWxGaXRFbnVtJztcbmltcG9ydCB7IEFjdGlvbiwgRWxlbWVudElkZW50aWZpZXIsIFJlc3VsdExpc3RPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMvcmVzdWx0cy51dGlscyc7XG5pbXBvcnQgeyBtYXJrZXIgfSBmcm9tICdAY29sc2VuMTk5MS9uZ3gtdHJhbnNsYXRlLWV4dHJhY3QtbWFya2VyJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXJsYXMtcmVzdWx0LWdyaWQtdGlsZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9yZXN1bHQtZ3JpZC10aWxlLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcmVzdWx0LWdyaWQtdGlsZS5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFJlc3VsdEdyaWRUaWxlQ29tcG9uZW50IGV4dGVuZHMgSXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIC8qKlxuICAgKiBAY29uc3RhbnRcbiAgICovXG4gIHB1YmxpYyBTSE9XX0lNQUdFID0gbWFya2VyKCdDbGljayB0byBzaG93IGRldGFpbHMnKTtcblxuICBAVmlld0NoaWxkKCdjZWxsVG9vbHRpcCcsIHsgc3RhdGljOiB0cnVlIH0pXG4gIHB1YmxpYyBjZWxsVG9vbHRpcDogTWF0VG9vbHRpcDtcblxuICAvKipcbiAgICogQElucHV0XG4gICAqIEBkZXNjcmlwdGlvbiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIGFuIEl0ZW0gLlxuICAgKi9cbiAgQElucHV0KCkgcHVibGljIGdyaWRUaWxlOiBJdGVtO1xuXG4gIC8qKlxuICAgKiBASW5wdXRcbiAgICogQGRlc2NyaXB0aW9uIEhvdyB0byBmaXQgdGhlIHRodW1ibmFpbCB0byB0aGUgdGlsZTpcbiAgICogLSBgaGVpZ2h0YCBmaXQgdGhlIGhlaWdodCBvZiB0aGUgdGh1bWJuYWlsLlxuICAgKiAtIGB3aWR0aGAgZml0IHRoZSB3aWR0aCBvZiB0aGUgdGh1bWJuYWlsLlxuICAgKiAtIGBjb250YWluYCBmaXQgdGhlIHdob2xldGh1bWJuYWlsLlxuICAgKi9cbiAgIEBJbnB1dCgpIHB1YmxpYyB0aHVtYm5haWxGaXQ6IFRodW1ibmFpbEZpdEVudW0gPSBUaHVtYm5haWxGaXRFbnVtLmNvbnRhaW47XG4gIC8qKlxuICAgKiBASW5wdXRcbiAgICogQGRlc2NyaXB0aW9uIExpc3Qgb2YgYWxsIHNlbGVjdGVkIGl0ZW1zIGluIHRoZSByZXN1bHQtbGlzdC5jb21wb25lbnQuXG4gICAqIFRoaXMgY29tcG9uZW50IHNldHMgZGlyZWN0bHkgdGhpcyBsaXN0LlxuICAgKi9cbiAgQElucHV0KCkgcHVibGljIHNlbGVjdGVkSXRlbXM6IFNldDxzdHJpbmc+O1xuICAvKipcbiAgICogQElucHV0XG4gICAqIEBkZXNjcmlwdGlvbiBBIGRldGFpbGVkLWRhdGEtcmV0cmlldmVyIG9iamVjdCB0aGF0IGltcGxlbWVudHNcbiAgICogRGV0YWlsZWREYXRhUmV0cmlldmVyIGludGVyZmFjZS5cbiAgICovXG4gIEBJbnB1dCgpIHB1YmxpYyBkZXRhaWxlZERhdGFSZXRyaWV2ZXI6IERldGFpbGVkRGF0YVJldHJpZXZlcjtcblxuICAvKipcbiAgICogQElucHV0IDogQW5ndWxhclxuICAgKiBAZGVzY3JpcHRpb24gQW4gaW5wdXQgdG8gY3VzdG9taXplIHRoZSByZXN1bHRsaXN0IGJlaGF2aW91clxuICAgKi9cbiAgQElucHV0KCkgcHVibGljIG9wdGlvbnM6IFJlc3VsdExpc3RPcHRpb25zO1xuXG4gIC8qKlxuICAqIEBJbnB1dFxuICAqIEBkZXNjcmlwdGlvbiBOYW1lIG9mIHRoZSBpZCBmaWVsZC5cbiAgKi9cbiAgQElucHV0KCkgcHVibGljIGlkRmllbGROYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBJbnB1dCA6IEFuZ3VsYXJcbiAgICogQGRlc2NyaXB0aW9uIE1hcCA8aXRlbUlkLCBTZXQ8YWN0aW9uSWRzPj4gOiBmb3IgZWFjaCBpdGVtLCBnaXZlcyB0aGUgbGlzdCBvZiBhY3RpdmF0ZWQgYWN0aW9ucy5cbiAgKi9cbiAgQElucHV0KCkgcHVibGljIGFjdGl2YXRlZEFjdGlvbnNQZXJJdGVtOiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4gPSBuZXcgTWFwPHN0cmluZywgU2V0PHN0cmluZz4+KCk7XG4gIC8qKlxuICAqIEBJbnB1dFxuICAqIEBkZXNjcmlwdGlvbiBEaXNwbGF5IG9yIG5vdCBiaWcgZnVsbCBpbmZvIGljb24gb24gdGhlIGdyaWQuXG4gICovXG4gIEBJbnB1dCgpIHB1YmxpYyAgZGlzcGxheUluZm9JY29uID0gZmFsc2U7XG5cblxuXG4gIC8qKlxuICAgKiBAT3V0cHV0XG4gICAqIEBkZXNjcmlwdGlvbiBFbWl0cyB0aGUgZXZlbnQgb2YgYXBwbHlpbmcgdGhlIHNwZWNpZmllZCBhY3Rpb24gb24gdGhlIHNwZWNpZmllZCBpdGVtLlxuICAgKi9cbiAgQE91dHB1dCgpIHB1YmxpYyBhY3Rpb25Pbkl0ZW1FdmVudDogU3ViamVjdDx7IGFjdGlvbjogQWN0aW9uOyBlbGVtZW50aWRlbnRpZmllcjogRWxlbWVudElkZW50aWZpZXI7IH0+ID1cbiAgICBuZXcgU3ViamVjdDx7IGFjdGlvbjogQWN0aW9uOyBlbGVtZW50aWRlbnRpZmllcjogRWxlbWVudElkZW50aWZpZXI7IH0+KCk7XG5cblxuICAvKipcbiAgICogQE91dHB1dFxuICAgKiBAZGVzY3JpcHRpb24gRW1pdHMgdGhlIGxpc3Qgb2Ygc2VsZWN0ZWQgaXRlbXMgaW4gcmVzdWx0LWxpc3QuY29tcG9uZW50LlxuICAgKi9cbiAgQE91dHB1dCgpIHB1YmxpYyBzZWxlY3RlZEl0ZW1zRXZlbnQ6IFN1YmplY3Q8U2V0PHN0cmluZz4+ID0gbmV3IFN1YmplY3Q8U2V0PHN0cmluZz4+KCk7XG5cbiAgLyoqXG4gICAqIEBPdXRwdXRcbiAgICogQGRlc2NyaXB0aW9uIEVtaXRzIHRoZSBzZWxlY3RlZC91bnNlbGVjdGVkIGl0ZW0uXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBAT3V0cHV0KCkgcHVibGljIHNlbGVjdGVkSXRlbVBvc2l0aW9uRXZlbnQ6IFN1YmplY3Q8SXRlbT4gPSBuZXcgU3ViamVjdDxJdGVtPigpO1xuXG4gIC8qKlxuICAgKiBAT3V0cHV0XG4gICAqIEBkZXNjcmlwdGlvbiBFbWl0cyB0aGUgdGhlIGl0ZW0gdGhhdCBpdCBoYXMgYmVlbiBjbGlja2VkIG9uIGl0LlxuICAgKi9cbiAgQE91dHB1dCgpIHB1YmxpYyBjbGlja2VkT25JdGVtRXZlbnQ6IFN1YmplY3Q8SXRlbT4gPSBuZXcgU3ViamVjdDxJdGVtPigpO1xuXG5cblxuICBwdWJsaWMgVGh1bWJuYWlsRml0RW51bSA9IFRodW1ibmFpbEZpdEVudW07XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZXMgdGhlIGNlbGwncyB0b29sdGlwIHdoZW4gdGhlIG1vdXNlIGlzIG92ZXIgdGhlIGF0dGFjaGVtZW50cyBidXR0b25zXG4gICAqIEBwYXJhbSBldmVudCBtb3VzZW92ZXIgZXZlbnRcbiAgICovXG4gIHB1YmxpYyBoaWRlQ2VsbFRvb2x0aXAoZXZlbnQ6IEV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5jZWxsVG9vbHRpcC5oaWRlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGNlbGwncyB0b29sdGlwIHdoZW4gdGhlIG1vdXNlIGlzIG92ZXIgdGhlIHRpbGVcbiAgICovXG4gIHB1YmxpYyBzaG93Q2VsbFRvb2x0aXAoKSB7XG4gICAgdGhpcy5jZWxsVG9vbHRpcC5zaG93KCk7XG4gIH1cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7IH1cblxuICAvLyBVcGRhdGUgdGhlIGxpc3Qgb2YgdGhlIHNlbGVjdGVkIGl0ZW1zXG4gIHB1YmxpYyBzZXRTZWxlY3RlZEl0ZW0oKSB7XG4gICAgc3VwZXIuc2V0U2VsZWN0ZWRJdGVtKHRoaXMuZ3JpZFRpbGUuaXNDaGVja2VkLCB0aGlzLmdyaWRUaWxlLmlkZW50aWZpZXIsIHRoaXMuc2VsZWN0ZWRJdGVtcyk7XG4gICAgdGhpcy5ncmlkVGlsZS5pc0NoZWNrZWQgPSAhdGhpcy5ncmlkVGlsZS5pc0NoZWNrZWQ7XG4gICAgLy8gRW1pdCB0byB0aGUgcmVzdWx0IGxpc3QgdGhlIGZhY3QgdGhhdCB0aGlzIGNoZWNrYm94IGhhcyBjaGFuZ2VkIGluIG9yZGVyIHRvIG5vdGlmeSB0aGUgY29ycmVzcG9uZGFudCBvbmUgaW4gbGlzdCBtb2RlXG4gICAgdGhpcy5zZWxlY3RlZEl0ZW1zRXZlbnQubmV4dCh0aGlzLnNlbGVjdGVkSXRlbXMpO1xuICB9XG5cbiAgcHVibGljIGRldGVybWluYXRlSXRlbSgpIHtcbiAgICB0aGlzLmdyaWRUaWxlLmlzQ2hlY2tlZCA9IHRydWU7XG4gICAgdGhpcy5ncmlkVGlsZS5pc2luZGV0ZXJtaW5hdGVkID0gZmFsc2U7XG4gICAgdGhpcy5zZWxlY3RlZEl0ZW1zLmFkZCh0aGlzLmdyaWRUaWxlLmlkZW50aWZpZXIpO1xuICAgIC8vIEVtaXQgdG8gdGhlIHJlc3VsdCBsaXN0IHRoZSBmYWN0IHRoYXQgdGhpcyBjaGVja2JveCBoYXMgY2hhbmdlZCBpbiBvcmRlciB0byBub3RpZnkgdGhlIGNvcnJlc3BvbmRhbnQgb25lIGluIGdyaWQgbW9kZVxuICAgIHRoaXMuc2VsZWN0ZWRJdGVtc0V2ZW50Lm5leHQodGhpcy5zZWxlY3RlZEl0ZW1zKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRDbGlja2VkT25JdGVtKCkge1xuICAgIHRoaXMucmV0cmlldmVBZGRpdGlvbmFsSW5mbyh0aGlzLmRldGFpbGVkRGF0YVJldHJpZXZlciwgdGhpcy5ncmlkVGlsZSk7XG4gICAgdGhpcy5jbGlja2VkT25JdGVtRXZlbnQubmV4dCh0aGlzLmdyaWRUaWxlKTtcbiAgfVxuXG4gIHB1YmxpYyB0cmlnZ2VyQWN0aW9uT25JdGVtKGFjdGlvbjogQWN0aW9uKSB7XG4gICAgdGhpcy5hY3Rpb25Pbkl0ZW1FdmVudC5uZXh0KFxuICAgICAge1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgZWxlbWVudGlkZW50aWZpZXI6IHsgaWRGaWVsZE5hbWU6IHRoaXMuaWRGaWVsZE5hbWUsIGlkVmFsdWU6IHRoaXMuZ3JpZFRpbGUuaWRlbnRpZmllciB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cInJlc3VsdGdyaWRcIiA+XG4gIDxkaXYgY2xhc3M9XCJyZXN1bHRncmlkLS1jb250YWluZXIgcmVzdWx0Z3JpZC0tY29udGFpbmVyLWhpZ2hsaWdodC17e2dyaWRUaWxlPy5pc2hpZ2hMaWdodH19XCIgY29sb3I9XCJwcmltYXJ5XCJbc3R5bGUuYm9yZGVyLWNvbG9yXT1cImdyaWRUaWxlPy5jb2xvciA/IGdyaWRUaWxlPy5jb2xvciA6ICdub25lJ1wiPlxuICAgIDxtYXQtaWNvbiAqbmdJZj1cImdyaWRUaWxlPy5pc0NoZWNrZWQgJiYgIWdyaWRUaWxlPy5pc2luZGV0ZXJtaW5hdGVkXCIgKGNsaWNrKT1cInNldFNlbGVjdGVkSXRlbSgpXCIgY2xhc3M9XCJwcmltYXJ5IHJlc3VsdGdyaWRfX2ljb25fY2hlY2sgbWF0LWljb24gbWF0ZXJpYWwtaWNvbnNcIj5jaGVja19ib3g8L21hdC1pY29uPlxuICAgIDxtYXQtaWNvbiAqbmdJZj1cIiFncmlkVGlsZT8uaXNDaGVja2VkICYmICFncmlkVGlsZT8uaXNpbmRldGVybWluYXRlZFwiIChjbGljayk9XCJzZXRTZWxlY3RlZEl0ZW0oKVwiIGNsYXNzPVwicHJpbWFyeSByZXN1bHRncmlkX19pY29uX2NoZWNrIG1hdC1pY29uIG1hdGVyaWFsLWljb25zXCI+Y2hlY2tfYm94X291dGxpbmVfYmxhbms8L21hdC1pY29uPlxuICAgIDxtYXQtaWNvbiAqbmdJZj1cImdyaWRUaWxlPy5pc2luZGV0ZXJtaW5hdGVkXCIgKGNsaWNrKT1cImRldGVybWluYXRlSXRlbSgpXCIgY2xhc3M9XCJwcmltYXJ5IHJlc3VsdGdyaWRfX2ljb25fY2hlY2sgbWF0LWljb24gbWF0ZXJpYWwtaWNvbnNcIj5pbmRldGVybWluYXRlX2NoZWNrX2JveDwvbWF0LWljb24+XG4gICAgPGRpdiBpZD1cInt7J2dyaWQtdGlsZS0nICsgZ3JpZFRpbGU/LmlkZW50aWZpZXJ9fVwiIChjbGljayk9XCJzZXRDbGlja2VkT25JdGVtKClcIiAobW91c2VvdmVyKT1cInNob3dDZWxsVG9vbHRpcCgpXCIgI2NlbGxUb29sdGlwPVwibWF0VG9vbHRpcFwiIG1hdFRvb2x0aXA9XCJ7e1NIT1dfSU1BR0UgfCB0cmFuc2xhdGV9fVwiICBjbGFzcz1cInJlc3VsdGdyaWRfX2ltZyB7e2dyaWRUaWxlPy5pY29uQ3NzQ2xhc3N9fVwiPlxuICAgICAgPGltZyBbZGVmYXVsdEltYWdlXT1cIm9wdGlvbnM/LmRlZmF1dGxJbWdVcmxcIiBbbGF6eUxvYWRdPVwiZ3JpZFRpbGU/LnVybFRodW1ibmFpbFwiXG4gICAgICAgIFtjbGFzcy5jb250YWluX3RodW1ibmFpbF09XCJ0aHVtYm5haWxGaXQgPT09IFRodW1ibmFpbEZpdEVudW0uY29udGFpblwiIFtjbGFzcy5oZWlnaHRfdGh1bWJuYWlsXT1cInRodW1ibmFpbEZpdCA9PT0gVGh1bWJuYWlsRml0RW51bS5oZWlnaHRcIlxuICAgICAgICBbY2xhc3Mud2lkdGhfdGh1bWJuYWlsXT1cInRodW1ibmFpbEZpdCA9PT0gVGh1bWJuYWlsRml0RW51bS53aWR0aFwiPlxuICAgICAgPGRpdiAqbmdJZj1cIm9wdGlvbnM/LnNob3dBY3Rpb25zT25ob3ZlclwiIGNsYXNzPVwiYWN0aW9uc1wiIChtb3VzZW92ZXIpPVwiaGlkZUNlbGxUb29sdGlwKCRldmVudClcIj5cbiAgICAgICAgPGFybGFzLXJlc3VsdC1hY3Rpb25zIFxuICAgICAgICAgIFthY3RpdmF0ZWRBY3Rpb25zUGVySXRlbV09XCJhY3RpdmF0ZWRBY3Rpb25zUGVySXRlbVwiIFxuICAgICAgICAgIFtkZXRhaWxlZERhdGFSZXRyaWV2ZXJdPVwiZGV0YWlsZWREYXRhUmV0cmlldmVyXCJcbiAgICAgICAgICBbaXRlbV09XCJncmlkVGlsZVwiXG4gICAgICAgICAgW3N0b3BQcm9wYWdhdGlvbl09XCJ0cnVlXCJcbiAgICAgICAgICAoYWN0aW9uT25JdGVtRXZlbnQpPVwidHJpZ2dlckFjdGlvbk9uSXRlbSgkZXZlbnQpXCIgPjwvYXJsYXMtcmVzdWx0LWFjdGlvbnM+XG5cbiAgICAgIDwvZGl2PlxuICAgICAgPG1hdC1pY29uIGNsYXNzPVwicmVzdWx0bGlzdF9fbWQtZ3JpZC10aWxlX19zZWxlY3RlZC0taWNvblwiICpuZ0lmPVwiZGlzcGxheUluZm9JY29uXCI+aW5mb19vdXRsaW5lPC9tYXQtaWNvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicmVzdWx0Z3JpZF9fdGl0bGUtaGlnaGxpZ2h0LXt7Z3JpZFRpbGU/LmlzaGlnaExpZ2h0fX1cIj5cbiAgICAgIDxzcGFuICpuZ0lmPVwiZ3JpZFRpbGU/LmNvbG9yXCIgbWF0VG9vbHRpcD1cInt7Z3JpZFRpbGU/LnRvb2x0aXB9fVwiIGNsYXNzPVwidGFibGV0XCIgW3N0eWxlLmJhY2tncm91bmQtY29sb3JdPVwiZ3JpZFRpbGU/LmNvbG9yXCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJyZXN1bHRncmlkX190aXRsZSAgcmVzdWx0Z3JpZF9fdGl0bGUte3tncmlkVGlsZT8uaWNvbkNzc0NsYXNzfX1cIiA+IHt7Z3JpZFRpbGU/LnRpdGxlfX0gPC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19