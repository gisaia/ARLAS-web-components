<div mat-dialog-content class="visualisation">
  @if (data.loading) {
    <div class="visualisation__spinner">
      <mat-progress-spinner [diameter]="100" [strokeWidth]="2" mode="indeterminate"></mat-progress-spinner>
    </div>
  }

  @for (v of data.visualisations; track v;) {
    @if (v.match === 'none') {
      <div class="visualisation__item visualisation__item--unmatched">
        <arlas-cog-preview
          [title]="v.visualisation.name"
          [description]="v.visualisation.description"
          [preview]="v.preview ?? DEFAULT_IMAGE"
        ></arlas-cog-preview>
        <div class="visualisation__item__error">
          {{ 'No selected products match this visualisation' | translate }}
        </div>
      </div>
    } @else {
      <div [mat-dialog-close]="v.visualisation" class="visualisation__item" [class.visualisation__item--matched]="v.match === 'all'">
        <arlas-cog-preview
          [title]="v.visualisation.name"
          [description]="v.visualisation.description"
          [preview]="v.preview ?? DEFAULT_IMAGE"
        ></arlas-cog-preview>
        @if (v.match === 'partial') {
          <div class="visualisation__item__warning">
            {{ 'Not all products match this visualisation' | translate }}
          </div>
        }
      </div>
    }
  }
</div>
